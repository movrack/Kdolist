{% extends '::base.html.twig' %}

{% block headline %}
    <div class="right" style="float: right">
        {% for type in listeTypes %}
            <a class="btn btn-primary"
                href="{{ path('lists_new', {'id': "1" } ) }}"
                title="{{ type.description }}">
                Cr√©er une liste
            </a>
        {% endfor %}
    </div>
    Mes listes
{% endblock headline %}

{% block content_content %}

    {% for entity in entities %}
        <div class="panel panel-default">
            <div class="panel-heading">
                <div style="float: right" >
                    {%  if not entity.owners is empty %}
                        Liste de
                    {% endif %}
                    {% for user in entity.owners %}
                        {% if user != entity.owners|first and  user == entity.owners|last %}
                            {% if entity.owners|length == 2 %}
                                et
                            {% else %}
                                ,
                            {% endif %}
                        {% endif %}
                        {{ user.firstname|capitalize }} {{ user.lastname|capitalize }}
                    {% endfor %}
                </div>
                <h1 class="panel-title">
                    {{ entity.title }}
                    <small>{{ entity.subTitle }}
                        {%  if not entity.event is empty %} ({{ entity.event }}) {% endif %}
                    </small>
                </h1>
            </div>
            <a href="{{ path('lists_show', { 'id': entity.id }) }}">
                <div class="panel-body">
                    <div class="container-fluid">
                        <div class="row" >
                            <div class="col-md-3"><img src="{{ entity.picture }}"/></div>
                            <div class="col-md-7">
                                {{ entity.description }}
                            </div>
                        </div>
                    </div>
                </div>
            </a>
            <div class="panel-footer ">
                <div class="container-fluid">
                    <div class="row" >
                        <div class="col-md-6">
                            {#{ entity.type }#}
                        </div>
                        <div class="col-md-6 right">
                            <a class="btn btn-primary"
                               href="{{ path('lists_show', { 'id': entity.id }) }}">
                                Afficher la liste
                            </a>
                            <a class="btn btn-default"
                                href="{{ path('lists_edit', { 'id': entity.id }) }}">
                                Modifier
                            </a>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    <br />
    {% endfor %}
{#
<a href="{{ path('lists_show', { 'id': entity.id }) }}">{{ entity.id }}</a>
<a href="{{ path('lists_show', { 'id': entity.id }) }}">show</a>

#}

{% endblock %}
