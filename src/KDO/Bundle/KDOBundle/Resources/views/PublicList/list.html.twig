{% extends '::base.html.twig' %}
{% block headline %}
    <div class="right" style="float: right">
        {% if entity.parent is not empty %}
            <a class="btn btn-default" href="{{ path('public_list', { 'list_id': entity.parent.id, 'slug': entity.parent.slug }) }}">
                <i class="fa fa-angle-left"></i><i class="fa fa-angle-left"></i> Retour à {{ entity.parent }}
            </a>
        {% endif %}

    </div>
    {{ entity.title }} <small>{{ entity.subTitle }}</small>
    {% if entity.parent is not empty %}
        <small><br />
            (dans la liste "{{ entity.parent }}")
        </small>
    {% endif %}
{% endblock headline %}
{% block content_content %}

    <div class="panel panel-default">
        <div class="panel-body">
            <div style="float:right" class="btn-group">
                <a class="btn btn-default" id="showInList" href="javascript:void(0)">
                    <i class="fa fa-list"></i> Liste
                </a>
                <a class="btn btn-default" id="showInGrid" href="javascript:void(0)">
                    <i class="fa fa-th"></i> Grille
                </a>
            </div>
            {{  entity.description }}
        </div>
    </div>



    <div class="showList" style="display: none">
        <table class="table  table-striped table-hover table-condensed">
            <tr>
                <th>Nom</th>
                <th>Description</th>
                <th>Lien</th>
                <th>Prix</th>
                <th>Action</th>
            </tr>

            {% for child in entity.children %}
                <tr>
                    <td>{{ child.title }}</td>
                    <td>{{ child.description }}</td>
                    <td></td>
                    <td></td>
                    <td>
                        <a href="{{ path('public_list', { 'list_id': child.id, 'slug': child.slug }) }}" class="btn btn-success">
                            <i class="fa fa-eye"></i> Plus de détails
                        </a>
                    </td>
                </tr>
            {% endfor %}
            {% for gift in entity.gifts %}
                <tr>
                    <td>
                        {{ gift.name }}
                    </td>
                    <td>
                        {{ gift.description }}
                    </td>
                    <td>
                        {%  if gift.link is not empty %}
                            <i class="fa fa-external-link"></i> <a href="{{ gift.link }}">Lien</a>
                        {% endif %}
                    </td>
                    <td>
                        {%  if gift.price is not empty %}
                            <i class="fa fa-money"></i> {{ gift.price }} €
                        {% endif %}
                    </td>
                    <td class="btn-group">
                        <a href="javascript:void(0)" class="btn btn-primary" role="button">
                            <i class="fa fa-gift"></i> Offrir
                        </a>

                        <a href="javascript:void(0)" class="btn btn-success">
                            <i class="fa fa-eye"></i> Plus de détails
                        </a>
                    </td>
                </tr>
            {%  endfor %}
        </table>
    </div>

    <div class="showGrid" class="row">

        {% for child in entity.children %}
            <div class="col-sm-6 col-md-4">
                <div class="thumbnail">
                    {%  if child.picture|trim != "" %}
                        <img src="{{ child.picture }}" alt="{{ child.title }}">
                    {%  endif %}
                    <div class="caption">
                        <h3>{{ child.title }}</h3>
                        <p><i class="fa fa-quote-left"></i> <i class="fa fa-quote-right"></i> {{ child.description }}</p>

                        <p>
                            <a href="{{ path('public_list', { 'list_id': child.id, 'slug': child.slug }) }}"
                               class="btn btn-success">
                                <i class="fa fa-eye"></i> Voir la liste
                            </a>
                        </p>
                    </div>
                </div>
            </div>
        {% endfor %}

        {% for gift in entity.gifts %}
            <div class="col-sm-6 col-md-4">
                <div class="thumbnail">
                    {%  if gift.picture|trim != "" %}
                        <img src="{{ gift.picture }}" alt="{{ gift.name }}">
                    {%  endif %}
                    <div class="caption">
                        <h3>{{ gift.name }}</h3>
                        <p><i class="fa fa-quote-left"></i> <i class="fa fa-quote-right"></i> {{ gift.description }}</p>
                        {%  if gift.price is not empty %}
                            <p><i class="fa fa-money"></i> {{ gift.price }} €</p>
                        {%  endif %}
                        {%  if gift.link is not empty %}
                            <p>
                                <a href="{{ gift.link }}" class="" role="button">
                                    <i class="fa fa-external-link"></i> Voir le site
                                </a>
                            </p>
                        {%  endif %}
                        <p>
                            <a href="javascript:void(0)" class="btn btn-primary" role="button">
                                <i class="fa fa-gift"></i> Offrir
                            </a>

                            <a href="javascript:void(0)" class="btn btn-success">
                                <i class="fa fa-eye"></i> Plus de détails
                            </a>
                        </p>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>

{% endblock %}


{% block page_script %}

<script type="text/javascript" >
    $(document).ready(function() {
        $('#showInList').on('click', function() {
            $('.showGrid').hide('slow');
            $('.showList').show('slow');
        });
        $('#showInGrid').on('click', function() {
            $('.showList').hide('slow');
            $('.showGrid').show('slow');
        });

    });
    </script>
{% endblock %}